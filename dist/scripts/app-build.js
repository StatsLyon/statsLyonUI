"bundle";!function(){var a=System.amdDefine;a("app.html!github:systemjs/plugin-text@0.0.8.js",[],function(){return'<template>\n  <require from="component/core/nav-bar.html"></require>\n  <require from="humane-js/themes/jackedup.css"></require>\n\n  <nav-bar router.bind="router" username.bind="username" authenticated.bind="authenticated"></nav-bar>\n  <div class="container">\n    <div class="row">\n      <div class="col-sm-12">\n        <h1 class="page-header" t="${router.currentInstruction.config.title}"></h1>\n        <router-view></router-view>\n      </div>\n    </div>\n  </div>\n</template>\n'})}(),System.register("app.js",["aurelia-framework","aurelia-router","aurelia-authentication"],function(a,b){"use strict";function c(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}var d,e,f,g,h,i;return{setters:[function(a){d=a.inject},function(a){e=a.Router},function(a){f=a.AuthService}],execute:function(){a("App",(g=d(e,f),i=g(h=function b(a,d){c(this,b),this.router=a;var e=d.getTokenPayload();this.username=e?e.username:null,this.authenticated=d.isAuthenticated()})||h)),a("App",i)}}}),function(){var a=System.amdDefine;a("component/core/nav-bar.html!github:systemjs/plugin-text@0.0.8.js",[],function(){return'<template bindable="router,username,authenticated">\n  <nav class="navbar navbar-inverse navbar-fixed-top">\n    <div class="container">\n      <div class="navbar-header">\n        <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">\n          <span class="sr-only">Toggle navigation</span>\n          <span class="icon-bar"></span>\n          <span class="icon-bar"></span>\n          <span class="icon-bar"></span>\n        </button>\n        <a class="navbar-brand" href="#" t="Swan"></a>\n      </div>\n      <div id="navbar" class="collapse navbar-collapse">\n        <ul class="nav navbar-nav">\n          <li repeat.for="row of router.navigation | authFilter: authenticated" class="${row.isActive ? \'active\' : \'\'}">\n            <a href.bind="row.href"><span t="${row.title}"></span></a>\n          </li>\n        </ul>\n\n        <p class="navbar-text navbar-right">\n          <span t="Signed in as"></span> ${username} <a href="#/logout" class="navbar-link">(<span t="logout"></span>)</a>\n        </p>\n      </div>\n    </div>\n  </nav>\n</template>\n'})}(),System.register("config/routes.js",[],function(a,b){"use strict";return{setters:[],execute:function(){a("default",[{route:"",name:"index",moduleId:"page/index",nav:!0,auth:!0,title:"Home"},{route:"/login",name:"login",moduleId:"page/auth/login",nav:!0,auth:!1,title:"Login"},{route:"logout",name:"logout",moduleId:"page/auth/logout",title:"Logout"}])}}}),System.register("config/app.js",[],function(a,b){"use strict";return{setters:[],execute:function(){a("default",{title:"My SpoonX application",endpoints:[{name:"api",endpoint:"http://127.0.0.1:1337/","default":!0},{name:"auth",endpoint:"http://127.0.0.1:1337/"}],defaultLocale:{language:"fr",locale:"fr-FR"}})}}}),System.register("config/auth.js",[],function(a,b){"use strict";return{setters:[],execute:function(){a("default",{endpoint:"auth",configureEndpoints:["auth","api"],baseUrl:"auth",loginUrl:"/login",signupUrl:"/signup",loginRedirect:"/",profileUrl:"/me",refreshTokenUrl:"/refresh-token",useRefreshToken:!0})}}}),System.register("entity/user.js",["aurelia-orm"],function(a,b){"use strict";function c(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function d(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}function e(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}var f,g;return{setters:[function(a){f=a.Entity}],execute:function(){a("User",g=function(a){function b(){var e,f,g;c(this,b);for(var h=arguments.length,i=Array(h),j=0;j<h;j++)i[j]=arguments[j];return e=f=d(this,a.call.apply(a,[this].concat(i))),f.name=null,f.password=null,g=e,d(f,g)}return e(b,a),b}(f)),a("User",g)}}}),System.register("config/entities.js",["../entity/user"],function(a,b){"use strict";return{setters:[function(b){var c={};c.User=b.User,a(c)}],execute:function(){}}}),System.register("main.js",["config/routes","config/app","config/auth","config/entities","i18next-xhr-backend","aurelia-router","aurelia-authentication","bootstrap","font-awesome/css/font-awesome.min.css!text"],function(a,b){"use strict";function c(a){a.use.standardConfiguration().plugin("aurelia-api",function(a){f.endpoints.forEach(function(b){a.registerEndpoint(b.name,b.endpoint,b.config),b["default"]&&a.setDefaultEndpoint(b.name)})}).plugin("aurelia-authentication",function(a){a.configure(g)}).plugin("aurelia-orm",function(a){a.registerEntities(h)}).plugin("aurelia-notification",function(a){a.configure({notifications:{success:"humane-jackedup-success",error:"humane-jackedup-error",info:"humane-jackedup-info"}})}).plugin("aurelia-i18n",function(a){a.i18next.use(i),a.setup({backend:{loadPath:"scripts/config/locale/{{lng}}/{{ns}}.json"},lng:f.defaultLocale.language,attributes:["t"],fallbackLng:f.defaultLocale.language,debug:!1})}),a.use.developmentLogging(),a.start().then(function(a){a.container.get(j).configure(d),a.setRoot("app")})}function d(a){a.title=f.title,a.addPipelineStep("authorize",k),a.map(e)}var e,f,g,h,i,j,k;return a("configure",c),{setters:[function(a){e=a["default"]},function(a){f=a["default"]},function(a){g=a["default"]},function(a){h=a},function(a){i=a["default"]},function(a){j=a.Router},function(a){k=a.AuthorizeStep},function(a){},function(a){}],execute:function(){}}}),function(){var a=System.amdDefine;a("page/auth/login.html!github:systemjs/plugin-text@0.0.8.js",[],function(){return'<template>\n  <form submit.delegate="login()">\n    <div class="form-group">\n      <label for="username" t="Username"></label>\n      <input type="text" class="form-control" id="username" t="[placeholder]Username" value.bind="username">\n    </div>\n    <div class="form-group">\n      <label for="password" t="Password"></label>\n      <input type="password" class="form-control" id="password" t="[placeholder]Password" value.bind="password">\n    </div>\n    <button type="submit" class="btn btn-default">Login</button>\n  </form>\n</template>\n'})}(),System.register("page/auth/login.js",["aurelia-dependency-injection","aurelia-authentication","aurelia-notification"],function(a,b){"use strict";function c(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}var d,e,f,g,h,i;return{setters:[function(a){d=a.inject},function(a){e=a.AuthService},function(a){f=a.Notification}],execute:function(){a("Login",(g=d(e,f),i=g(h=function(){function a(b,d){c(this,a),this.username="",this.password="",this.notification=d,this.authService=b}return a.prototype.login=function(){var a=this;return this.authService.login({username:this.username,password:this.password})["catch"](function(b){a.notification.error("Login failed!"),console.error(b)})},a}())||h)),a("Login",i)}}}),function(){var a=System.amdDefine;a("page/auth/logout.html!github:systemjs/plugin-text@0.0.8.js",[],function(){return"<template></template>\n"})}(),System.register("page/auth/logout.js",["aurelia-authentication","aurelia-dependency-injection"],function(a,b){"use strict";function c(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}var d,e,f,g,h;return{setters:[function(a){d=a.AuthService},function(a){e=a.inject}],execute:function(){a("Logout",(f=e(d),h=f(g=function(){function a(b){c(this,a),this.authService=b}return a.prototype.activate=function(){this.authService.logout()},a}())||g)),a("Logout",h)}}}),function(){var a=System.amdDefine;a("page/index.html!github:systemjs/plugin-text@0.0.8.js",[],function(){return'<template>\n  <h2>\n    <span t="Hello developer"></span>\n    <small t="(I\'d say world, but you are my world <3)"></small>\n  </h2>\n\n  <p t="Welcome to your todo application"></p>\n</template>\n'})}(),System.register("page/index.js",[],function(a,b){"use strict";function c(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}var d;return{setters:[],execute:function(){a("Index",d=function b(){c(this,b)}),a("Index",d)}}});